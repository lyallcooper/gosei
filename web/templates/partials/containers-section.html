{{define "partials/containers-section.html"}}
<div class="containers-section" id="containers-section">
    <h2 class="section-title">Containers</h2>
    <div class="containers-table">
        <table class="table">
            <thead>
                <tr>
                    <th>SERVICE</th>
                    <th>STATUS</th>
                    <th>CPU/MEM</th>
                    <th>IMAGE</th>
                    <th>ACTIONS</th>
                </tr>
            </thead>
            <tbody id="containers-list">
                {{range .Containers}}
                <tr class="container-row" data-container-id="{{.Name}}">
                    <td class="container-name">
                        <a href="/containers/{{.Name}}">{{.ServiceName}}</a>
                    </td>
                    <td class="container-status">
                        <span class="state-badge {{stateClass .State}}">
                            {{statusIcon .State}} {{.State}}
                        </span>
                        {{if .Health}}
                        <span class="health-badge health-{{.Health}}">{{.Health}}</span>
                        {{end}}
                    </td>
                    <td class="container-stats" data-stats-id="{{.Name}}">
                        <span class="stat-loading">--</span>
                    </td>
                    <td class="container-image">
                        {{.Image}}
                    </td>
                    <td class="container-actions">
                        {{if eq .State "running"}}
                        <button
                            class="btn btn-sm"
                            hx-post="/api/containers/{{.Name}}/stop"
                            hx-swap="none"
                        >Stop</button>
                        <button
                            class="btn btn-sm"
                            hx-post="/api/containers/{{.Name}}/restart"
                            hx-swap="none"
                        >Restart</button>
                        {{else}}
                        <button
                            class="btn btn-sm btn-primary"
                            hx-post="/api/containers/{{.Name}}/start"
                            hx-swap="none"
                        >Start</button>
                        {{end}}
                        <a href="/containers/{{.Name}}/logs" class="btn btn-sm">Logs</a>
                    </td>
                </tr>
                {{else}}
                <tr>
                    <td colspan="5" class="empty-row">No containers found</td>
                </tr>
                {{end}}
            </tbody>
        </table>
    </div>
</div>
{{end}}
